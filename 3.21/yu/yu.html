<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>雨滴</title>
</head>
<style>
    body{
        background: #000;
        margin:0;padding: 0;
        overflow: hidden;
    }
</style>
<body>

</body>
</html>
<script>
window.onload=function(){
    var body=document.querySelector("body");
    var x=document.documentElement.clientWidth;
    var y=document.documentElement.clientHeight+80;
    var arr=[];
    for(var i=0;i<500;i++){
        var div=document.createElement("div");
        var times=4*Math.random();
        div.style.cssText="width:2px;height:4px;background:#fff;position:absolute;left:"+(50+(x-100)*Math.random())+"px;top:-80px;"
        div.style.transition="transform 3s ease-in "+times+"s";
        arr.push(div);
        body.appendChild(div);
    }
    var t1=setTimeout(function(){
        for(var i=0;i<arr.length;i++){
            arr[i].style.transform="translate(0,"+y+"px)";
            arr[i].addEventListener("webkitTransitionEnd",function(){
                this.style.transition="none";
                this.style.transform="translate(0,0)";
                var that=this;
                setTimeout(function(){
                   that.style.transition="transform 2s ease-in "+times+"s";
                   that.style.transform="translate(0,"+y+"px)";
                },0)
            })
        }
    },0)
    var spend=4;
    setInterval(function(){
        body.style.transition="transform 2s linear";
        spend+=4;
        body.style.transform="rotate("+Math.sin(Math.PI/180*spend)*30+"deg)"
    },5)


}
</script>